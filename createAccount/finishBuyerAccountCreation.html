<!DOCTYPE html>   
<html>   
<head>  
<meta name="viewport" content="width=device-width, initial-scale=1">  
<link rel="stylesheet" href="finishBuyerAccountCreation.css">
<title> Finish Buyer Account </title>  
<style>   

</style>   

<script>
    function showToast(message){
        var toast = document.getElementById('toast');
        toast.querySelector('.toast-body').innerHTML = message; 
        toast.classList.add('visible');
        setTimeout(function () {toast.classList.add('hidden');}, 4000);
        toast.classList.remove('hidden');
    }

    function validateForm() {

        var address1 = document.getElementById("address1").value;
        var address2 = document.getElementById("address2").value;
        var city = document.getElementById("city").value; 
        var state = document.getElementById("state").value; 
        var county = document.getElementById("county").value;
        var zipCode = document.getElementById("zipCode").value;  
            
        if(address1 == "") {  
            showToast("Please fill out the address field.");
            return false;  
        }  
        if(city == "") {  
            showToast("Please fill out the city field.");
            return false;  
        }  
        if(state == "") {  
            showToast("Please pick your state.");
            return false;   
        }  
        if(county == "") {  
            showToast("Please fill out the county field.");
            return false;  
        } 
        var numbers = /[0-9]/g;
        if(zipCode == "") {  
            showToast("Please fill out the zip code field.");
            return false;  
        } 
        if(isNaN(zipCode)){
            showToast("Zip code should contain digits only.");
            return false; 
        }
        if(zipCode.length < 5 || zipCode.length > 5){
            showToast("Zip code should be 5 digits long.");
            return false; 
        }

        console.log("Form is validated.");
        // Pass variables from one file to another: https://www.youtube.com/watch?v=x0VcigW9kN0
        // Stores all of the previous entered data
        console.log(JSON.parse(localStorage.getItem(['userInfo'])));

        localStorage.setItem(address1, address2, city, state, county, zipCode);
        console.log(address1, address2, city, state, county, zipCode);

        window.location.href="../mainDashboard/seeListings.html";

        return true;
    }

</script>

</head>    
<body>    

    <div class="toast" id="toast">
        <div class="toast-body">
        </div>
    </div>

    <form class="formContainer" onsubmit="return false;">  

        <div class="container">
            
            <img class="logo" src="../creative/NDN Real Estate Logo.png" alt="Logo for NDN Real Estate"> 
            <h1 class="header"> Finish account </h1> 

            <label class="singleInputFieldLabel">Address: </label>
            <input type="address" placeholder="First line of address" name="address1" id="address1" value="">  <!-- add required keyword-->

            <label class="singleInputFieldLabel">Apartment, suite, etc. (optional): </label>
            <input type="address" placeholder="Second line of address" name="address2" id="address2" value="">  <!-- add required keyword-->

            
            <div class="doubleInputFieldLabel">
                <label class="inputFieldLabel">City: </label>  
                <label class="inputFieldLabel" style="margin-left: 46%;">State: </label> 
            </div>
        
            <div class="doubleInputFieldLabel">   
                <input type="city" placeholder="Enter City" name="city" id="city" value = ""> <!-- add required keyword-->
                <select type="state" name="state" id="state" size="1" >
                    <option value="AK">AK</option>
                    <option value="AL">AL</option>
                    <option value="AR">AR</option>
                    <option value="AZ">AZ</option>
                    <option value="CA">CA</option>
                    <option value="CO">CO</option>
                    <option value="CT">CT</option>
                    <option value="DC">DC</option>
                    <option value="DE">DE</option>
                    <option value="FL">FL</option>
                    <option value="GA">GA</option>
                    <option value="HI">HI</option>
                    <option value="IA">IA</option>
                    <option value="ID">ID</option>
                    <option value="IL">IL</option>
                    <option value="IN">IN</option>
                    <option value="KS">KS</option>
                    <option value="KY">KY</option>
                    <option value="LA">LA</option>
                    <option value="MA">MA</option>
                    <option value="MD">MD</option>
                    <option value="ME">ME</option>
                    <option value="MI">MI</option>
                    <option value="MN">MN</option>
                    <option value="MO">MO</option>
                    <option value="MS">MS</option>
                    <option value="MT">MT</option>
                    <option value="NC">NC</option>
                    <option value="ND">ND</option>
                    <option value="NE">NE</option>
                    <option value="NH">NH</option>
                    <option value="NJ">NJ</option>
                    <option value="NM">NM</option>
                    <option value="NV">NV</option>
                    <option value="NY">NY</option>
                    <option value="OH">OH</option>
                    <option value="OK">OK</option>
                    <option value="OR">OR</option>
                    <option value="PA">PA</option>
                    <option value="RI">RI</option>
                    <option value="SC">SC</option>
                    <option value="SD">SD</option>
                    <option value="TN">TN</option>
                    <option value="TX">TX</option>
                    <option value="UT">UT</option>
                    <option value="VA">VA</option>
                    <option value="VT">VT</option>
                    <option value="WA">WA</option>
                    <option value="WI">WI</option>
                    <option value="WV">WV</option>
                    <option value="WY">WY</option>
                  </select>
                
                
                <!-- <input type="state" placeholder="Enter Phone Number" name="state" value = "" required> -->
            </div>

            <div class="doubleInputFieldLabel">
                <label class="inputFieldLabel">County: </label>  
                <label class="inputFieldLabel" style="margin-left: 41%;">Zip Code: </label> 
            </div>
        
            <div class="doubleInputFieldLabel">   
                <input type="county" placeholder="Enter County" name="county" id="county" value = ""> <!-- add required keyword-->
                <input type="zipCode" placeholder="Enter Zip Code" name="zipCode" id="zipCode" value = ""> <!-- add required keyword-->
            </div>

            
            <div class="submit">
                <button class="submit" type="submit" value="Submit" onclick="return validateForm()">Finish</button>  
            </div> 

        </div>   

    </form>     
</body>     
</html>